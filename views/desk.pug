html
	head
		title KOT Desk
		meta(name="viewport",content="width=device-width, initial-scale=1.0")
		// Latest compile and minified CSS
		link(rel="stylesheet",href="css/bootstrap.min.css")
		// Optional theme
		link(rel="stylesheet",href="css/bootstrap-theme.min.css")
		script(src="js/jquery-3.4.1.min.js")
		// Latest compiled and minied JavaScript
		script(src="js/bootstrap.min.js")
		script.
			$(document).ready(function(){
				// fetch Menu
				$.get('/getMenu',
					{},
					function(data){
						if(data.error){
							alert(data.message);
						} else {
							$.each(data.message, function(index,value){
								if (value.is_default){
									$("#menu").append(new Option(value.name, value.name, true, true));
								} else {
									$("#menu").append(new Option(value.name, value.name));
								}
							});
							
							// Item Type
							$.get('/getItemType',
								{},
								function(data){
									if(data.error){
										alert(data.message);
									} else {
										$.each(data.message, function(index,value){
											$("#item_type").append(new Option(value.name, value.name));
										});
										
										// Item Category
										$.get('/getItemCategory',
											{},
											function(data){
												if(data.error){
													alert(data.message);
												} else {
													$.each(data.message, function(index,value){
														$("#item_category").append(new Option(value.name, value.name));
													});
													getFullMenu();
												}
											}
										);
									}
								}
							);
						}
					}
				);
				
				var getFullMenu = function(){
					console.log('getFullMenu is called...',$("#menu").val(),$("#item_type").val(),$("#item_category").val());
					// Get full menu
					$.post('/getFullMenu',
						{
							menu: $("#menu").val(),
							item_type: $("#item_type").val(),
							item_category: $("#item_category").val()
						},
						function(data){
							if(data.error){
								alert(data.message);
							} else {
								$("#demo").empty();
								$.each(data.message, function(index,value){
									//$("#item_category").append(new Option(value.name, value.name));
									//console.log(index,value.name);
									$("#demo").append("<p>"+index+" : "+value.name+"</p>");
								});
							}
						}
					);
				}
				
				// All
				$('#menu').change(function(){
					console.log('menu',$(this).val());
					getFullMenu();
				});
				
				$('#item_type').change(function(){
					console.log('item_type',$(this).val());
					if($(this).val() === "All"){
						//console.log('you selected all');
						//$('#item_category').val("All");
					}
					getFullMenu();
				});
				
				$('#item_category').change(function(){
					console.log('item_category',$(this).val());
					getFullMenu();
				});
			});
	body
	
		nav(class="navbar navbar-default navbar-fixed-top")
			div(class="container-fluid")
				div(class="navbar-header")
					a(class="navbar-brand" href="/") iFusion Solutions
						
				ul(class="nav navbar-nav")
					li(class="active")
						a(href="/") Home
					li(class="dropdown")
						a(href="#",class="dropdown-toggle",data-toggle="dropdown") Counter <span class="caret"></span>
						ul(class="dropdown-menu")
							li <a href="#">Customers</a>
							li <a href="#">Orders</a>
							li <a href="#">Reports</a>
					li
						a(href="#") Kitchen
					li
						a(href="#") <span class="glyphicon glyphicon-hand-right" style="color:blue;"></span> Contact
						
				ul(class="nav navbar-nav navbar-right")
					li <a href="/index"><span class="glyphicon glyphicon-user" style="color:blue;"></span> Sign Up</a>
					li <a href="/index"><span class="glyphicon glyphicon-log-in" style="color:blue;"></span> Login</a>
					
				form(class="navbar-form navbar-left",action="/action")
					div(class="input-group")
						input(type="text",class="form-control",placeholder="Search")
						div(class="input-group-btn")
							button(type="submit",class="btn btn-default")
								i(class="glyphicon glyphicon-search")
		
		//div(class="jumbotron text-center")
		//	h1 My Hotel Menu
		//	p Resize this responsive page to see the effect!
		
		div(class="form-group form-inline",style="margin-top: 60px; margin-left: 50px;")
			//label(for="menu") Menu
			//select(id="menu",class="form-control")
			//	<option value="Regular Menu" selected>Regular Menu</option>
			<select id="menu" class="form-control"></select>		
			 
			//label(for="item_type") Item Type
			select(id="item_type",class="form-control")
				<option value="All" selected>All</option>
			
			 
			//label(for="item_category") Item Category
			select(id="item_category",class="form-control")
				<option value="All" selected>All</option>

		div(class="container",id="demo")
		